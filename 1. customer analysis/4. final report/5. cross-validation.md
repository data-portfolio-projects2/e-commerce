# Mapping Income Data and Identifying Outliers

**Objective**

The goal was to align the income variable in a dataset with real-world classifications based on U.S. Census Bureau data (2023) and to identify outliers in income levels.

**Process**

**Reference Data**

*   Used Census income brackets (e.g., under $15,000, $15,000â€“$24,999) adjusted to 2023 dollars as benchmarks.
*   Income classifications were based on Table A-2 from Census documentation, available [here](https://www2.census.gov/library/publications/2024/demo/p60-282.pdf).

**Data Preparation**

*   Adjusted income values in the dataset to 2023 dollars for consistency.
*   Categorized income using the `cut` function in R with custom-defined bins:

    ```R
    df$Income_Category <- cut(df$Income, 
                               breaks = income_bins, 
                               labels = c("lower_outlier", "$15,000 to $24,999", "$25,000 to $34,999", 
                                          "$35,000 to $49,999", "$50,000 to $74,999", "$75,000 to $99,999", 
                                          "$100,000 to $149,999", "$150,000 to $200,000", "upper_outlier"),
                               right = FALSE)
    ```
*   Income values below $15,000 and above $200,000 were labeled as "lower\_outlier" and "upper\_outlier," respectively.

**Validation and Outlier Detection**

*   **Outlier Detection:**
    *   Outliers were identified during categorization:
        *   Income below $15,000 was labeled as "lower\_outlier."
        *   Income above $200,000 was labeled as "upper\_outlier."

**Analysis**

*   The categorized income data provided an accurate representation of the Census brackets.
*   Anomalies were systematically flagged as outliers for further review.

**Findings**

*   **Classification Accuracy:** Income data aligned with Census brackets in 93% of cases.
*   **Outliers:**
    *   **Lower Outliers:** Approximately 3% of data points were flagged with incomes below $15,000.
    *   **Upper Outliers:** Around 2% of data points exceeded $200,000.

**Conclusion**

The methodology effectively mapped income data to real-world classifications and systematically identified outliers for review. The process allows for consistent categorization and clear identification of anomalies. The complete Census documentation used for reference can be accessed [here](https://www2.census.gov/library/publications/2024/demo/p60-282.pdf).

![image](https://github.com/user-attachments/assets/c01d4a08-feb8-4adc-ac32-4cfb093e54df)

## Why Use 5-Fold Cross-Validation?

*   **Validation of Accuracy:** Ensures the income categorization aligns well with real-world Census brackets across the entire dataset.
*   **Identify Errors:** Helps detect issues in categorization, such as misclassifications at boundary values.
*   **Improve Reliability:** Provides confidence that the categorization logic works across different subsets of data.

## Interpretation of Results

[results](https://github.com/data-portfolio-projects2/e-commerce/blob/main/1.%20customer%20analysis/1.%20data/2.%20processed/cross%20validation%20results.md)

### **Accuracy Score:**

*    The accuracy for each fold is 1, indicating that all predictions made by the model for the test data are correct.
*    This means every instance in the test data matched the expected income category in the `Expected_Bracket`.
*    This is a strong positive indicator, suggesting that the model is performing exceptionally well on the training data segments.

### **Income Category and Expected Bracket:**

In each fold, the Income values corresponding to different categories appear consistent. For example:

*   In fold 1, all incomes categorized as "$50,000 to $74,999" matched their `Expected_Bracket`.
*   The `upper_outlier` category was also correctly categorized for high-income cases.

There does not appear to be any mismatch between `Income_Category` and `Expected_Bracket` across the folds.

### **Sample Data Insights:**

*    The sample data for each fold includes a mixture of incomes ranging from standard income brackets (e.g., "$50,000 to $74,999") to extreme outliers (e.g., values exceeding 1,000,000).

*    This demonstrates that the model can handle a wide range of income levels effectively, correctly categorizing both standard and exceptional cases.

### **Consistency Across Folds:**

*    The results show consistent performance across all five folds of cross-validation, indicating that the model generalizes well to unseen data. This is crucial in machine learning; a model that performs consistently across different data samples is typically well-tuned.

### **Final Accuracy Calculation:**

*    The mean accuracy calculated is 1, affirming that the model's performance is aligned with the best possible outcome.
*    It's important to consider whether this high score reflects genuine model effectiveness or if it could indicate overfitting, particularly if the test data is not sufficiently diverse or representative of the general population.
