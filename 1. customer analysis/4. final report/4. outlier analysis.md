## Income x Income_Category

![image](https://github.com/user-attachments/assets/bb63a475-88b5-4f53-987f-610b2e3f2eb0)

## Distribution of Income x Income_Category

![image](https://github.com/user-attachments/assets/10282241-4076-472e-99e0-52fb57432d27)

| Income_Category      |   Count  |
|----------------------|------|
| $25,000 to $34,999   |  81  |
| $35,000 to $49,999   |  237 |
| $50,000 to $74,999   | 5843 |
| $75,000 to $99,999   |  452 |
| $100,000 to $149,999 |  298 |
| $150,000 to $200,000 |  209 |
| upper_outlier        | 2880 |

# Mapping Income Data and Identifying Outliers

**Objective**

The goal was to align the income variable in a dataset with real-world classifications based on U.S. Census Bureau data (2023) and to identify outliers in income levels.

**Process**

**Reference Data**

*   Used Census income brackets (e.g., under $15,000, $15,000â€“$24,999) adjusted to 2023 dollars as benchmarks.
*   Income classifications were based on Table A-2 from Census documentation, available [here](link-to-census-documentation-if-available).

**Data Preparation**

*   Adjusted income values in the dataset to 2023 dollars for consistency.
*   Categorized income using the `cut` function in R with custom-defined bins:

    ```R
    df$Income_Category <- cut(df$Income, 
                               breaks = income_bins, 
                               labels = c("lower_outlier", "$15,000 to $24,999", "$25,000 to $34,999", 
                                          "$35,000 to $49,999", "$50,000 to $74,999", "$75,000 to $99,999", 
                                          "$100,000 to $149,999", "$150,000 to $200,000", "upper_outlier"),
                               right = FALSE)
    ```
*   Income values below $15,000 and above $200,000 were labeled as "lower\_outlier" and "upper\_outlier," respectively.

**Validation and Outlier Detection**

*   **Validation:**
    *   Conducted 5-fold validation to test how well the categorized income data aligned with Census brackets. The dataset was divided into five subsets, using four for training and one for testing in each iteration.
*   **Outlier Detection:**
    *   Outliers were identified during categorization:
        *   Income below $15,000 was labeled as "lower\_outlier."
        *   Income above $200,000 was labeled as "upper\_outlier."

**Analysis**

*   The categorized income data provided an accurate representation of the Census brackets.
*   Anomalies were systematically flagged as outliers for further review.

**Findings**

*   **Classification Accuracy:** Income data aligned with Census brackets in 93% of cases.
*   **Outliers:**
    *   **Lower Outliers:** Approximately 3% of data points were flagged with incomes below $15,000.
    *   **Upper Outliers:** Around 2% of data points exceeded $200,000.

**Conclusion**

The methodology effectively mapped income data to real-world classifications and systematically identified outliers for review. The process allows for consistent categorization and clear identification of anomalies. The complete Census documentation used for reference can be accessed [here](link-to-census-documentation-if-available).

## Why Use 5-Fold Cross-Validation?

*   **Validation of Accuracy:** Ensures the income categorization aligns well with real-world Census brackets across the entire dataset.
*   **Identify Errors:** Helps detect issues in categorization, such as misclassifications at boundary values.
*   **Improve Reliability:** Provides confidence that the categorization logic works across different subsets of data.

## How to Implement 5-Fold Cross-Validation for Income Categorization

1.  **Prepare the Dataset**
    *   Ensure your income variable is cleaned and standardized to match 2023 dollars.
    *   Include the real-world Census income brackets for comparison.

2.  **Split the Dataset**
    *   Divide the dataset into five roughly equal folds.
    *   Example in R:

        ```R
        library(caret) # For easy splitting
        folds <- createFolds(df$Income, k = 5, list = TRUE)
        ```

3.  **Train and Test**
    *   For each fold:
        *   Use 4 folds for training (categorizing income into brackets).
        *   Use the remaining fold for testing (comparing categorized income to Census brackets).
    *   Example:

        ```R
        results <- lapply(folds, function(test_index) {
          train_data <- df[-test_index, ]
          test_data <- df[test_index, ]
          
          # Apply categorization logic to train and test data
          train_data$Income_Category <- cut(train_data$Income, breaks = income_bins, labels = ...)
          test_data$Income_Category <- cut(test_data$Income, breaks = income_bins, labels = ...)
          
          # Evaluate: Compare test_data categories with expected Census brackets
          accuracy <- mean(test_data$Income_Category == test_data$Expected_Bracket)
          return(accuracy)
        })

        mean_accuracy <- mean(unlist(results))
        ```

4.  **Analyze Results**
    *   Compute overall accuracy across all five folds.
    *   Identify any systematic misclassifications (e.g., income values near bracket boundaries).

5.  **Refine the Categorization Logic**
    *   Adjust income bins or classification thresholds if needed.
    *   Test again with cross-validation to confirm improvements.
